{"version":3,"sources":["../src/LayerToggle.js"],"names":["LayerToggle","props","context","unsubscribe","layerStore","subscribeToLayer","id","setState","children","show","hide","store","displaying","layers","isActive","indexOf","for","args","contextTypes","object"],"mappings":"gnBAAA,8B;;AAEqBA,W;;AAEnB,uBAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AACpBD,SADoB,EACbC,OADa;AAE1B,UAAKC,WAAL,GAAmBD,QAAQE,UAAR,CAAmBC,gBAAnB,CAAoCJ,MAAMK,EAA1C,EAA8C,YAAM;AACrE,YAAKC,QAAL,CAAc,EAAd;AACD,KAFkB,CAAnB;AAGA,UAAKH,UAAL,GAAkBF,QAAQE,UAA1B,CAL0B;AAM3B,G;;AAEsB;AACrB,WAAKD,WAAL;AACA,WAAKA,WAAL,GAAmB,IAAnB;AACA,WAAKC,UAAL,GAAkB,IAAlB;AACD,K;;AAES;AACuB,WAAKH,KAD5B,KACAO,QADA,UACAA,QADA,KACaP,KADb;AAEe,WAAKG,UAFpB,KAEAK,KAFA,eAEAA,IAFA,KAEMC,KAFN,eAEMA,IAFN;AAGuB,WAAKN,UAAL,CAAgBO,KAHvC,KAGAC,UAHA,qBAGAA,UAHA,KAGYC,MAHZ,qBAGYA,MAHZ;AAIR,aAAOL,2BAAS;AACdI,8BADc;AAEdE,kBAAUF,WAAWG,OAAX,CAAmBd,MAAMe,GAAzB,MAAkC,CAAC,CAF/B;AAGdP,cAAM,mDAAIQ,IAAJ,gDAAIA,IAAJ,iCAAahB,MAAMe,GAAN,GAAYP,MAAKR,MAAMe,GAAX,EAAgBC,IAAhB,CAAZ,GAAoCR,MAAKQ,IAAL,CAAjD,EAHQ;AAIdP,cAAM,wBAAaT,MAAMe,GAAN,GAAYN,MAAKT,MAAMe,GAAX,CAAZ,GAA8BN,OAA3C,EAJQ,EAAT;AAKDG,aAAOZ,MAAMe,GAAb,EAAkBC,IALjB,GAAP;AAMD,K,8DA1BkBjB,W;;;AA6BrBA,YAAYkB,YAAZ,GAA2B;AACzBd,cAAY,iBAAUe,MADG,EAA3B","file":"LayerToggle.js","sourcesContent":["import React, { Component, PropTypes, createElement} from 'react'\n\nexport default class LayerToggle extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n    this.unsubscribe = context.layerStore.subscribeToLayer(props.id, () => {\n      this.setState({})\n    });\n    this.layerStore = context.layerStore;\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n    this.unsubscribe = null;\n    this.layerStore = null;\n  }\n\n  render () {\n    const { children, ...props } = this.props;\n    const { show, hide } = this.layerStore;\n    const { displaying, layers } = this.layerStore.store;\n    return children({\n      displaying,\n      isActive: displaying.indexOf(props.for) !== -1,\n      show: (...args) => props.for ? show(props.for, args) : show(args),\n      hide: (...args) => props.for ? hide(props.for) : hide(),\n    }, ...layers[props.for].args);\n  }\n}\n\nLayerToggle.contextTypes = {\n  layerStore: PropTypes.object\n};"]}